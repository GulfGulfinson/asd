import mongoose from 'mongoose';
import dotenv from 'dotenv';
import { Theme, Lesson, Quiz } from '../models';

dotenv.config();

const connectDB = async () => {
  try {
    const mongoURI = process.env.MONGODB_URI || 'mongodb://localhost:27017/dailylearn';
    await mongoose.connect(mongoURI);
    console.log('‚úÖ Connected to MongoDB');
  } catch (error) {
    console.error('‚ùå MongoDB connection error:', error);
    process.exit(1);
  }
};

const clearDatabase = async () => {
  try {
    await Theme.deleteMany({});
    await Lesson.deleteMany({});
    await Quiz.deleteMany({});
    console.log('üóëÔ∏è Database cleared successfully');
  } catch (error) {
    console.error('‚ùå Error clearing database:', error);
  }
};

const seedThemes = async () => {
  const themes = [
    {
      name: 'Psychology',
      description: 'Verstehe menschliches Verhalten, mentale Prozesse und psychologische Prinzipien.',
      slug: 'psychology',
      color: '#8B5CF6',
      icon: 'üß†',
      isActive: true
    },
    {
      name: 'Health & Wellness',
      description: 'Entdecke Themen √ºber k√∂rperliche Gesundheit, mentales Wohlbefinden und Lifestyle.',
      slug: 'health-wellness',
      color: '#EF4444',
      icon: '‚ù§Ô∏è',
      isActive: true
    },
    {
      name: 'Business',
      description: 'Lerne √ºber Entrepreneurship, Management, Finanzen und Gesch√§ftsstrategie.',
      slug: 'business',
      color: '#F59E0B',
      icon: 'üíº',
      isActive: true
    },
    {
      name: 'Science',
      description: 'Entdecke faszinierende wissenschaftliche Konzepte, Entdeckungen und Naturph√§nomene.',
      slug: 'science',
      color: '#10B981',
      icon: 'üî¨',
      isActive: true
    },
    {
      name: 'Personal Development',
      description: 'Entwickle pers√∂nliche F√§higkeiten, Kommunikation und F√ºhrungsqualit√§ten.',
      slug: 'personal-development',
      color: '#3B82F6',
      icon: 'üåü',
      isActive: true
    }
  ];

  for (const themeData of themes) {
    await Theme.findOneAndUpdate(
      { slug: themeData.slug },
      themeData,
      { upsert: true, new: true }
    );
  }

  console.log('‚úÖ Themes seeded successfully');
  return await Theme.find();
};

const seedLessons = async (themes: any[]) => {
  const lessons = [
    {
      title: 'Die Macht der Gewohnheiten verstehen',
      content: `
# Die Psychologie der Gewohnheiten

Gewohnheiten bestimmen 40% unseres t√§glichen Verhaltens. Verstehe, wie sie funktionieren!

---

## Was sind Gewohnheiten?

Gewohnheiten sind automatische Verhaltensweisen, die durch Wiederholung entstehen. Sie helfen unserem Gehirn, Energie zu sparen.

**Der Gewohnheits-Loop besteht aus drei Teilen:**
- **Ausl√∂ser** - Ein Signal, das die Gewohnheit startet
- **Routine** - Das Verhalten selbst
- **Belohnung** - Der Nutzen, den wir daraus ziehen

---

## Wie entstehen neue Gewohnheiten?

**Die 21-Tage-Regel ist ein Mythos!** Forschungen zeigen, dass es 18-254 Tage dauert, bis eine neue Gewohnheit automatisch wird.

**Faktoren, die die Gewohnheitsbildung beeinflussen:**
- Komplexit√§t der Handlung
- Pers√∂nlichkeit
- Umst√§nde
- Motivation

> "Wir sind das, was wir wiederholt tun. Vorz√ºglichkeit ist also keine Handlung, sondern eine Gewohnheit." - Aristoteles

---

## Die 1% Regel

Kleine t√§gliche Verbesserungen f√ºhren zu enormen Ver√§nderungen:

**Mathematik der Gewohnheiten:**
- 1% besser jeden Tag = 37x besser nach einem Jahr
- 1% schlechter jeden Tag = fast null nach einem Jahr

**Praktische Beispiele:**
- 5 Minuten t√§glich lesen = 30+ B√ºcher pro Jahr
- 10 Minuten Sport = 60+ Stunden Training pro Jahr
- 1 gesunde Mahlzeit t√§glich = 365 bessere Entscheidungen

---

## Gewohnheiten erfolgreich √§ndern

**Die 4 Gesetze des Verhaltens√§nderung:**

1. **Mach es offensichtlich** - Sichtbare Erinnerungen schaffen
2. **Mach es attraktiv** - Verlockungen hinzuf√ºgen
3. **Mach es einfach** - H√ºrden reduzieren
4. **Mach es befriedigend** - Sofortige Belohnungen einbauen

**Umgebung optimieren:**
- Gesunde Snacks sichtbar platzieren
- Sportkleidung bereitlegen
- Handy beim Lernen wegpacken

---

## Praxis: Dein Gewohnheiten-Plan

**Schritt 1: Gewohnheit w√§hlen**
Beginne mit einer Mini-Gewohnheit (2-Minuten-Regel)

**Schritt 2: Ausl√∂ser festlegen**
"Nach [bestehende Gewohnheit] werde ich [neue Gewohnheit] machen"

**Schritt 3: Belohnung planen**
Feiere kleine Erfolge sofort

**Beispiel:**
- Nach dem Z√§hneputzen (Ausl√∂ser)
- Mache ich 5 Liegest√ºtze (Routine)
- Und sage "Gut gemacht!" (Belohnung)
      `,
      summary: 'Verstehe die Wissenschaft hinter Gewohnheiten und lerne praktische Strategien f√ºr positive Ver√§nderungen.',
      imageUrl: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800',
      themeId: themes.find(t => t.slug === 'psychology')?._id,
      difficulty: 'beginner',
      estimatedReadTime: 8,
      tags: ['Psychology', 'Habits', 'Behavior Change', 'Self-Improvement'],
      isPublished: true,
      publishedAt: new Date('2024-01-15')
    },
    {
      title: 'Stressmanagement: Von Panik zu innerer Ruhe',
      content: `
# Stress verstehen und bew√§ltigen

Stress ist nicht dein Feind - lerne, wie du ihn als Verb√ºndeten nutzen kannst.

---

## Was ist Stress wirklich?

Stress ist eine nat√ºrliche Reaktion deines K√∂rpers auf Herausforderungen. Ohne Stress g√§be es keine Entwicklung!

**Zwei Arten von Stress:**
- **Eustress** - Positiver, motivierender Stress
- **Distress** - Negativer, √ºberw√§ltigender Stress

**K√∂rperliche Stressreaktion:**
- Adrenalin und Cortisol werden ausgesch√ºttet
- Herzschlag beschleunigt sich
- Aufmerksamkeit steigt
- Muskeln spannen sich an

---

## Die moderne Stressfalle

**Evolution√§rer Konflikt:**
Unser Gehirn ist f√ºr kurzfristige Gefahren programmiert, aber wir leben in einer Welt chronischer Stressoren.

**H√§ufige Stressausl√∂ser heute:**
- Informations√ºberflutung
- Sozialer Druck
- Finanzielle Sorgen
- Zeitdruck
- Perfektionismus

> "Es sind nicht die Dinge selbst, die uns beunruhigen, sondern unsere Meinungen √ºber diese Dinge." - Epiktet

---

## Sofort-Strategien gegen Stress

**Die 4-7-8 Atemtechnik:**
1. 4 Sekunden einatmen
2. 7 Sekunden Atem anhalten
3. 8 Sekunden ausatmen
4. 3-4 mal wiederholen

**5-4-3-2-1 Erdungstechnik:**
- 5 Dinge, die du siehst
- 4 Dinge, die du f√ºhlst
- 3 Dinge, die du h√∂rst
- 2 Dinge, die du riechst
- 1 Ding, das du schmeckst

**Progressive Muskelentspannung:**
Spanne nacheinander verschiedene Muskelgruppen an und entspanne sie bewusst.

---

## Langfristige Stressresilienz

**Die 4 S√§ulen der Stressresilienz:**

1. **K√∂rperliche Gesundheit**
   - Regelm√§√üiger Schlaf (7-9 Stunden)
   - Ausgewogene Ern√§hrung
   - Bewegung (150 Min/Woche)

2. **Mentale Flexibilit√§t**
   - Meditation und Achtsamkeit
   - Positive Selbstgespr√§che
   - Realistische Erwartungen

3. **Soziale Verbindungen**
   - Starkes Support-Netzwerk
   - Offene Kommunikation
   - Grenzen setzen

4. **Sinnhaftigkeit**
   - Klare Werte und Ziele
   - Engagement f√ºr etwas Gr√∂√üeres
   - Dankbarkeit praktizieren

---

## Dein pers√∂nlicher Stressplan

**Stress-Tagebuch f√ºhren:**
- Wann tritt Stress auf?
- Was sind die Ausl√∂ser?
- Wie reagiere ich?
- Was hilft mir?

**Notfall-Toolkit erstellen:**
1. Atem√ºbung f√ºr akuten Stress
2. 5-Minuten-Meditation
3. Kurzer Spaziergang
4. Musik oder Podcast
5. Kontakt zu Vertrauensperson

**Pr√§vention im Alltag:**
- Feste Routinen entwickeln
- Regelm√§√üige Pausen einbauen
- "Nein" sagen lernen
- Perfektionismus loslassen
      `,
      summary: 'Lerne effektive Strategien zur Stressbew√§ltigung und baue langfristige Resilienz auf.',
      imageUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
      themeId: themes.find(t => t.slug === 'health-wellness')?._id,
      difficulty: 'beginner',
      estimatedReadTime: 9,
      tags: ['Stress Management', 'Mental Health', 'Wellness', 'Mindfulness'],
      isPublished: true,
      publishedAt: new Date('2024-01-18')
    },
    {
      title: 'Erfolgreiche Kommunikation: Die Kunst des Zuh√∂rens',
      content: `
# Kommunikation meistern

Gute Kommunikation ist der Schl√ºssel zu erfolgreichen Beziehungen - privat und beruflich.

---

## Das Kommunikations-Paradox

**55% K√∂rpersprache + 38% Tonfall + 7% Worte = 100% Botschaft**

Wir konzentrieren uns meist nur auf die Worte, aber das ist nur ein kleiner Teil der Kommunikation!

**H√§ufige Kommunikationsfehler:**
- Unterbrechen beim Sprechen
- Urteilen statt verstehen
- L√∂sungen anbieten statt zuh√∂ren
- Multitasking w√§hrend Gespr√§chen
- Eigene Agenda verfolgen

---

## Die 5 Ebenen des Zuh√∂rens

**Level 1: Ignorieren**
Gar nicht zuh√∂ren, abgelenkt sein

**Level 2: Vort√§uschen**
So tun, als w√ºrde man zuh√∂ren

**Level 3: Selektives H√∂ren**
Nur Teile wahrnehmen, die interessant sind

**Level 4: Aufmerksames H√∂ren**
Aktiv zuh√∂ren und verstehen wollen

**Level 5: Empathisches H√∂ren**
Mit dem Herzen h√∂ren, Gef√ºhle verstehen

> "Wir haben zwei Ohren und einen Mund, damit wir doppelt so viel h√∂ren wie sprechen." - Epiktet

---

## Aktives Zuh√∂ren in der Praxis

**Die SOLER-Technik:**
- **S**itzen oder stehen - offene K√∂rperhaltung
- **O**ffener Blickkontakt
- **L**ehne dich vor - zeige Interesse
- **E**ntspannt bleiben
- **R**eagiere angemessen

**Paraphrasieren:**
"Wenn ich dich richtig verstehe, sagst du..."
"Das bedeutet f√ºr dich..."
"Du f√ºhlst dich also..."

**Nachfragen stellen:**
- "Kannst du das n√§her erkl√§ren?"
- "Wie f√ºhlst du dich dabei?"
- "Was ist das Wichtigste f√ºr dich?"

---

## Schwierige Gespr√§che meistern

**Das DESC-Modell:**

**D**escribe - Situation beschreiben
"Mir ist aufgefallen, dass..."

**E**xpress - Gef√ºhle ausdr√ºcken
"Ich f√ºhle mich..."

**S**pecify - W√ºnsche konkretisieren
"Ich w√ºrde mir w√ºnschen..."

**C**onsequences - Konsequenzen aufzeigen
"Das w√ºrde bedeuten..."

**Bei Konflikten:**
1. Ruhig bleiben und durchatmen
2. Gemeinsamkeiten finden
3. Ich-Botschaften verwenden
4. L√∂sungen gemeinsam entwickeln
5. Win-Win anstreben

---

## Nonverbale Kommunikation

**K√∂rpersprache bewusst einsetzen:**

**Offene Signale:**
- Entspannte Schultern
- Offene Handfl√§chen
- Zugewandter K√∂rper
- Angemessener Abstand

**Geschlossene Signale vermeiden:**
- Verschr√§nkte Arme
- Weggewandter K√∂rper
- Finger zeigen
- Zu nahes Herantreten

**Stimme und Tonfall:**
- Ruhiges, gleichm√§√üiges Tempo
- Angemessene Lautst√§rke
- Pausen setzen
- Betonung nutzen

---

## Deine Kommunikations-Challenge

**T√§glich √ºben:**
1. Ein Gespr√§ch pro Tag bewusst f√ºhren
2. Handy weglegen beim Sprechen
3. Mehr Fragen stellen als Aussagen treffen
4. Gef√ºhle benennen
5. Zusammenfassen, was geh√∂rt wurde

**Reflexion am Abend:**
- Wie gut habe ich heute zugeh√∂rt?
- Wo habe ich unterbrochen?
- Welche Gef√ºhle habe ich wahrgenommen?
- Was kann ich morgen besser machen?

**Langfristiges Ziel:**
Werde zum Menschen, mit dem andere gerne sprechen, weil sie sich verstanden f√ºhlen.
      `,
      summary: 'Entwickle deine Kommunikationsf√§higkeiten und lerne die Kunst des empathischen Zuh√∂rens.',
      imageUrl: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=800',
      themeId: themes.find(t => t.slug === 'personal-development')?._id,
      difficulty: 'intermediate',
      estimatedReadTime: 7,
      tags: ['Communication', 'Listening Skills', 'Relationships', 'Leadership'],
      isPublished: true,
      publishedAt: new Date('2024-01-21')
    },
    {
      title: 'Finanzielle Intelligenz: Geld verstehen und vermehren',
      content: `
# Finanzielle Bildung f√ºr alle

Geld ist ein Werkzeug - lerne, es klug zu nutzen und f√ºr dich arbeiten zu lassen.

---

## Das Geld-Mindset

**Arme vs. Reiche Denkweise:**

**Arme Denkweise:**
- "Geld ist die Wurzel allen √úbels"
- "Reiche Menschen sind gierig"
- "Ich kann mir das nicht leisten"
- "Geld macht nicht gl√ºcklich"

**Reiche Denkweise:**
- "Geld ist ein Werkzeug f√ºr Freiheit"
- "Ich kann Gutes mit Geld bewirken"
- "Wie kann ich mir das leisten?"
- "Geld gibt mir Optionen"

**Die wichtigste Regel:**
Bezahle dich selbst zuerst - spare bevor du ausgibst!

---

## Die 50/30/20 Regel

**50% Grundbed√ºrfnisse:**
- Miete/Hypothek
- Lebensmittel
- Transport
- Versicherungen
- Mindest-Kreditraten

**30% W√ºnsche:**
- Entertainment
- Restaurants
- Hobbys
- Shopping
- Reisen

**20% Sparen & Investieren:**
- Notgroschen (3-6 Monate Ausgaben)
- Altersvorsorge
- Investitionen
- Schuldenabbau

---

## Der Zinseszinseffekt

**Das 8. Weltwunder:**
"Der Zinseszins ist das achte Weltwunder. Wer ihn versteht, verdient ihn. Wer ihn nicht versteht, bezahlt ihn." - Einstein

**Beispiel: 25 vs. 35 Jahre:**
- Person A: Spart 10 Jahre lang 2.000‚Ç¨/Jahr (20.000‚Ç¨ gesamt)
- Person B: Spart 30 Jahre lang 2.000‚Ç¨/Jahr (60.000‚Ç¨ gesamt)
- Rendite: 7% pro Jahr

**Ergebnis nach 40 Jahren:**
- Person A (fr√ºher Start): ~340.000‚Ç¨
- Person B (sp√§ter Start): ~245.000‚Ç¨

**Zeit schl√§gt Betrag!**

---

## Investment-Grundlagen

**Die Investment-Pyramide:**

**Fundament - Notgroschen:**
- 3-6 Monate Ausgaben
- Sofort verf√ºgbar
- Tagesgeld oder Festgeld

**Aufbau - Diversifizierte Investments:**
- ETFs (Exchange Traded Funds)
- Aktien gro√üer Unternehmen
- Immobilien (REITs)
- Rohstoffe

**Spitze - Spekulative Investments:**
- Einzelaktien
- Kryptow√§hrungen
- Derivate
- Startups

**Goldene Regeln:**
- Nur investieren, was du verstehst
- Niemals alles auf eine Karte setzen
- Emotionen raushalten
- Langfristig denken (10+ Jahre)

---

## Schulden intelligent nutzen

**Gute vs. Schlechte Schulden:**

**Gute Schulden:**
- Immobilienkredit (Wertsteigerung)
- Bildungskredit (Einkommenssteigerung)
- Unternehmenskredit (Cashflow-Generierung)

**Schlechte Schulden:**
- Konsumkredite
- Kreditkarten-Schulden
- Auto-Leasing f√ºr Luxus
- Urlaubs-Kredite

**Schulden-Schneeball-Methode:**
1. Minimum auf alle Schulden zahlen
2. Kleinste Schuld zuerst komplett tilgen
3. Freigewordenen Betrag auf n√§chste Schuld
4. Wiederholen bis schuldenfrei

---

## Dein Finanz-Action-Plan

**Woche 1: Analyse**
- Alle Einnahmen und Ausgaben auflisten
- Nettoverm√∂gen berechnen
- Finanziele definieren

**Woche 2: Optimierung**
- Unn√∂tige Ausgaben streichen
- Einsparpotentiale finden
- Notgroschen aufbauen beginnen

**Woche 3: Automatisierung**
- Dauerauftr√§ge f√ºr Sparen einrichten
- Investment-Depot er√∂ffnen
- Monatlichen ETF-Sparplan starten

**Woche 4: Bildung**
- Finanz-Podcast abonnieren
- Ein Buch √ºber Investieren lesen
- Mit finanziell erfolgreichen Menschen sprechen

**Langfristig:**
- J√§hrliche Finanz-Review
- Sparziele j√§hrlich erh√∂hen
- Neue Investment-M√∂glichkeiten pr√ºfen
      `,
      summary: 'Baue finanzielle Intelligenz auf und lerne, wie Geld f√ºr dich arbeiten kann.',
      imageUrl: 'https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800',
      themeId: themes.find(t => t.slug === 'business')?._id,
      difficulty: 'intermediate',
      estimatedReadTime: 10,
      tags: ['Finance', 'Investment', 'Money Management', 'Wealth Building'],
      isPublished: true,
      publishedAt: new Date('2024-01-24')
    },
    {
      title: 'Der Klimawandel: Verstehen und handeln',
      content: `
# Klimawandel verstehen

Der Klimawandel ist real - aber was bedeutet das konkret und was kannst du tun?

---

## Die Fakten zum Klimawandel

**Was ist der Klimawandel?**
Langfristige √Ñnderung der durchschnittlichen Wetter- und Temperaturbedingungen auf der Erde.

**Hauptursachen:**
- Verbrennung fossiler Brennstoffe (75%)
- Entwaldung (11%)
- Landwirtschaft (9%)
- Industrieprozesse (5%)

**Wichtige Zahlen:**
- Globale Erw√§rmung: +1,1¬∞C seit 1880
- CO‚ÇÇ-Konzentration: 421 ppm (h√∂chster Wert seit 3 Mio. Jahren)
- Meeresspiegel: +21 cm seit 1880
- Arktisches Eis: -13% pro Jahrzehnt

---

## Auswirkungen bereits heute

**Extreme Wetterereignisse:**
- Hitzewellen werden h√§ufiger und intensiver
- D√ºrren in manchen Regionen
- √úberschwemmungen in anderen Gebieten
- St√§rkere St√ºrme und Hurrikane

**√ñkosystem-Ver√§nderungen:**
- Artensterben beschleunigt sich
- Korallenbleiche nimmt zu
- Gletscher schmelzen weltweit
- Permafrost taut auf

**Gesellschaftliche Folgen:**
- Ernteausf√§lle und Nahrungsmittelknappheit
- Wasserknappheit in vielen Regionen
- Klimamigration nimmt zu
- Gesundheitsrisiken steigen

> "Wir sind die erste Generation, die den Klimawandel sp√ºrt, und die letzte, die etwas dagegen tun kann."

---

## Die Pariser Klimaziele

**Das 1,5¬∞C-Ziel:**
Begrenzung der Erderw√§rmung auf 1,5¬∞C √ºber dem vorindustriellen Niveau.

**Was bedeutet das?**
- Halbierung der Emissionen bis 2030
- Netto-Null-Emissionen bis 2050
- Massive Investitionen in erneuerbare Energien
- Schutz und Wiederherstellung von W√§ldern

**Aktuelle Situation:**
Wir sind auf einem 2,7¬∞C-Pfad - deutlich √ºber dem Ziel!

---

## Dein pers√∂nlicher CO‚ÇÇ-Fu√üabdruck

**Durchschnittlicher CO‚ÇÇ-Aussto√ü pro Person in Deutschland:**
- 11,2 Tonnen CO‚ÇÇ pro Jahr
- Ziel f√ºr 1,5¬∞C: 2,3 Tonnen pro Jahr

**Gr√∂√üte Verursacher:**
1. **Wohnen** (2,8 t) - Heizen, Strom
2. **Mobilit√§t** (2,2 t) - Auto, Fl√ºge
3. **Ern√§hrung** (1,7 t) - Fleisch, Import
4. **Konsum** (3,6 t) - Kleidung, Elektronik
5. **√ñffentlich** (0,9 t) - Infrastruktur

---

## Konkrete Handlungsm√∂glichkeiten

**Sofort umsetzbar:**

**Energie sparen:**
- LED-Lampen verwenden (-80% Stromverbrauch)
- Heizung um 1¬∞C senken (-6% Energie)
- Ger√§te ganz ausschalten (kein Standby)
- √ñkostrom-Anbieter w√§hlen

**Mobilit√§t √ºberdenken:**
- Kurze Strecken zu Fu√ü oder mit Rad
- √ñffentliche Verkehrsmittel nutzen
- Flugreisen reduzieren (1 Flug = 1 Jahr Autofahren)
- Carsharing statt eigenes Auto

**Ern√§hrung anpassen:**
- Weniger Fleisch essen (1-2x pro Woche)
- Regional und saisonal einkaufen
- Lebensmittelverschwendung vermeiden
- Mehr pflanzliche Proteine

**Konsum bewusster:**
- Dinge l√§nger nutzen
- Reparieren statt wegwerfen
- Second-Hand kaufen
- Qualit√§t vor Quantit√§t

---

## Hoffnung und L√∂sungen

**Positive Entwicklungen:**
- Erneuerbare Energien werden g√ºnstiger
- Elektromobilit√§t w√§chst exponentiell
- Neue Technologien entstehen (Carbon Capture)
- Bewusstsein steigt weltweit

**Technologische Durchbr√ºche:**
- Wasserstoff als Energiespeicher
- K√ºnstliches Fleisch entwickelt sich
- Vertical Farming spart Ressourcen
- Kreislaufwirtschaft entsteht

**Dein Beitrag z√§hlt:**
Jede eingesparte Tonne CO‚ÇÇ macht einen Unterschied. Gemeinsam k√∂nnen wir das 1,5¬∞C-Ziel noch erreichen!

**Werde zum Klimasch√ºtzer:**
- Berechne deinen CO‚ÇÇ-Fu√üabdruck
- Setze dir konkrete Reduktionsziele
- Inspiriere andere zum Mitmachen
- Unterst√ºtze klimafreundliche Politik
      `,
      summary: 'Verstehe die Wissenschaft des Klimawandels und entdecke konkrete Handlungsm√∂glichkeiten.',
      imageUrl: 'https://images.unsplash.com/photo-1569163139394-de4e4f43e4e5?w=800',
      themeId: themes.find(t => t.slug === 'science')?._id,
      difficulty: 'intermediate',
      estimatedReadTime: 9,
      tags: ['Climate Change', 'Environment', 'Sustainability', 'Science'],
      isPublished: true,
      publishedAt: new Date('2024-01-27')
    },
    {
      title: 'Produktivit√§t steigern: Mehr erreichen mit weniger Stress',
      content: `
# Produktivit√§t neu gedacht

Wahre Produktivit√§t bedeutet nicht mehr zu arbeiten, sondern kl√ºger zu arbeiten.

---

## Das Produktivit√§ts-Paradox

**Moderne Herausforderungen:**
- Informations√ºberflutung
- St√§ndige Unterbrechungen
- Multitasking-Mythos
- Decision Fatigue
- Perfectionism Paralysis

**Die Wahrheit √ºber Multitasking:**
Unser Gehirn kann nicht wirklich multitasken. Es wechselt schnell zwischen Aufgaben - das kostet 25% Produktivit√§t!

> "Produktivit√§t ist nicht alles, aber ohne Produktivit√§t ist alles nichts." - Peter Drucker

---

## Das Pareto-Prinzip (80/20-Regel)

**Die m√§chtigste Produktivit√§tsregel:**
80% der Ergebnisse kommen von 20% der Aktivit√§ten.

**Praktische Anwendung:**
- 20% deiner Kunden bringen 80% des Umsatzes
- 20% deiner Aufgaben erzeugen 80% des Werts
- 20% deiner Gewohnheiten bestimmen 80% deines Lebens

**Frage dich t√§glich:**
"Welche 20% meiner Aufgaben werden 80% der Ergebnisse bringen?"

---

## Time Management Systeme

**Die Eisenhower-Matrix:**

**Quadrant 1: Wichtig + Dringlich**
- Krisen und Notf√§lle
- Deadlines
- Sofort erledigen

**Quadrant 2: Wichtig + Nicht dringlich**
- Pr√§vention und Planung
- Lernen und Entwicklung
- Zeit hier investieren!

**Quadrant 3: Nicht wichtig + Dringlich**
- Unterbrechungen
- Manche E-Mails
- Delegieren oder ablehnen

**Quadrant 4: Nicht wichtig + Nicht dringlich**
- Zeitverschwender
- Social Media scrollen
- Eliminieren!

---

## Deep Work vs. Shallow Work

**Deep Work:**
- Kognitive anspruchsvolle Aufgaben
- Hohe Konzentration erforderlich
- Wertvoll und schwer ersetzbar
- Beispiele: Strategieentwicklung, Lernen, Kreativarbeit

**Shallow Work:**
- Logistische Aufgaben
- Wenig kognitive Anstrengung
- Leicht ersetzbar
- Beispiele: E-Mails, Meetings, Administration

**Deep Work Strategien:**
1. **Monastic:** Komplette Isolation von Ablenkungen
2. **Bimodal:** Feste Deep Work Perioden
3. **Rhythmic:** T√§glich zur gleichen Zeit
4. **Journalistic:** Jede freie Minute nutzen

---

## Die perfekte Morgenroutine

**Die ersten 90 Minuten entscheiden:**
Dein Gehirn ist morgens am leistungsf√§higsten f√ºr komplexe Aufgaben.

**Optimaler Morgen:**

**6:00 - Aufstehen ohne Snooze**
- Wasser trinken
- 5 Minuten Meditation
- Kurze Bewegung

**6:30 - Wichtigste Aufgabe (MIT)**
- Eine Most Important Task
- 90 Minuten fokussierte Arbeit
- Handy stumm/weg

**8:00 - Energie auftanken**
- Gesundes Fr√ºhst√ºck
- Kurze Pause
- Tag planen

**Goldene Regeln:**
- Keine E-Mails vor 9 Uhr
- Wichtigstes zuerst
- Ein Task nach dem anderen

---

## Anti-Prokrastinations-Strategien

**Die 2-Minuten-Regel:**
Wenn etwas weniger als 2 Minuten dauert, sofort erledigen.

**Die 5-Minuten-Regel:**
Bei Aufschieberitis: "Nur 5 Minuten" - oft machst du weiter.

**Eat the Frog:**
Schwerste/unangenehmste Aufgabe zuerst am Morgen.

**Pomodoro-Technik:**
- 25 Minuten fokussierte Arbeit
- 5 Minuten Pause
- Nach 4 Zyklen: 30 Minuten Pause

**Implementation Intentions:**
"Wenn [Situation], dann werde ich [Verhalten]"
"Wenn ich Lust auf Social Media habe, dann mache ich 5 Liegest√ºtze"

---

## Dein Produktivit√§ts-System

**W√∂chentliche Planung:**
1. Ziele der Woche definieren
2. 3 Most Important Tasks pro Tag
3. Zeitbl√∂cke f√ºr Deep Work
4. Pufferzeiten einplanen

**T√§gliche Rituale:**
- Morgens: Top 3 Priorit√§ten
- Mittags: Kurze Reflexion
- Abends: Tag abschlie√üen, morgen vorbereiten

**Tools & Apps:**
- Todoist oder Any.do (Aufgaben)
- Toggl (Zeiterfassung)
- Forest (Fokus)
- RescueTime (Analyse)

**W√∂chentliche Review:**
- Was lief gut?
- Wo gab es Probleme?
- Was kann ich optimieren?
- Neue Experimente f√ºr n√§chste Woche?

**Erinnere dich:**
Produktivit√§t ist ein Marathon, kein Sprint. Kleine, konstante Verbesserungen f√ºhren zu gro√üen Ergebnissen.
      `,
      summary: 'Entwickle ein effektives Produktivit√§tssystem und lerne, mehr mit weniger Stress zu erreichen.',
      imageUrl: 'https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=800',
      themeId: themes.find(t => t.slug === 'personal-development')?._id,
      difficulty: 'intermediate',
      estimatedReadTime: 8,
      tags: ['Productivity', 'Time Management', 'Focus', 'Organization'],
      isPublished: true,
      publishedAt: new Date('2024-01-30')
    }
  ];

  const createdLessons = [];
  for (const lessonData of lessons) {
    const lesson = await Lesson.findOneAndUpdate(
      { title: lessonData.title },
      lessonData,
      { upsert: true, new: true }
    );
    createdLessons.push(lesson);
  }

  console.log('‚úÖ Lessons seeded successfully');
  return createdLessons;
};

const seedQuizzes = async (lessons: any[]) => {
  const quizzes = [
    {
      lessonId: lessons.find(l => l.title === 'Die Macht der Gewohnheiten verstehen')?._id,
      title: 'Gewohnheiten Quiz',
      questions: [
        {
          question: 'Aus welchen drei Komponenten besteht der Gewohnheits-Loop?',
          type: 'multiple_choice',
          options: [
            'Denken, Handeln, Belohnen',
            'Ausl√∂ser, Routine, Belohnung',
            'Planen, Ausf√ºhren, Bewerten',
            'Motivation, Aktion, Reflexion'
          ],
          correctAnswer: 1,
          explanation: 'Der Gewohnheits-Loop besteht aus Ausl√∂ser (Cue), Routine (Verhalten) und Belohnung (Reward).'
        },
        {
          question: 'Laut der 1%-Regel: Wenn ich mich jeden Tag um 1% verbessere, wie viel besser bin ich nach einem Jahr?',
          type: 'multiple_choice',
          options: [
            'Etwa 4x besser',
            'Etwa 37x besser',
            'Etwa 365x besser',
            'Etwa 100x besser'
          ],
          correctAnswer: 1,
          explanation: 'Durch den Zinseszinseffekt wird man nach einem Jahr etwa 37x besser (1,01^365 ‚âà 37,78).'
        },
        {
          question: 'Was ist die 2-Minuten-Regel f√ºr neue Gewohnheiten?',
          type: 'multiple_choice',
          options: [
            'Gewohnheiten sollten mindestens 2 Minuten dauern',
            'Neue Gewohnheiten sollten h√∂chstens 2 Minuten dauern',
            'Man braucht 2 Minuten um eine Gewohnheit zu starten',
            'Gewohnheiten entstehen nach 2 Minuten'
          ],
          correctAnswer: 1,
          explanation: 'Die 2-Minuten-Regel besagt, dass neue Gewohnheiten zun√§chst auf maximal 2 Minuten reduziert werden sollten, um sie leichter zu etablieren.'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    },
    {
      lessonId: lessons.find(l => l.title === 'Stressmanagement: Von Panik zu innerer Ruhe')?._id,
      title: 'Stressmanagement Quiz',
      questions: [
        {
          question: 'Was ist der Unterschied zwischen Eustress und Distress?',
          type: 'multiple_choice',
          options: [
            'Eustress ist sch√§dlich, Distress ist n√ºtzlich',
            'Eustress ist positiver Stress, Distress ist negativer Stress',
            'Eustress ist k√∂rperlich, Distress ist mental',
            'Es gibt keinen Unterschied'
          ],
          correctAnswer: 1,
          explanation: 'Eustress ist positiver, motivierender Stress, w√§hrend Distress negativer, √ºberw√§ltigender Stress ist.'
        },
        {
          question: 'Wie funktioniert die 4-7-8 Atemtechnik?',
          type: 'multiple_choice',
          options: [
            '4 Sekunden ausatmen, 7 Sekunden einatmen, 8 Sekunden halten',
            '4 Sekunden einatmen, 7 Sekunden halten, 8 Sekunden ausatmen',
            '4 Atemz√ºge, 7 Sekunden Pause, 8 Wiederholungen',
            '4 Minuten atmen, 7 Minuten Pause, 8 Minuten Meditation'
          ],
          correctAnswer: 1,
          explanation: 'Die 4-7-8 Technik: 4 Sekunden einatmen, 7 Sekunden Atem anhalten, 8 Sekunden ausatmen.'
        },
        {
          question: 'Welche der folgenden Strategien geh√∂rt NICHT zu den 4 S√§ulen der Stressresilienz?',
          type: 'multiple_choice',
          options: [
            'K√∂rperliche Gesundheit',
            'Mentale Flexibilit√§t',
            'Finanzielle Sicherheit',
            'Soziale Verbindungen'
          ],
          correctAnswer: 2,
          explanation: 'Die 4 S√§ulen sind: K√∂rperliche Gesundheit, Mentale Flexibilit√§t, Soziale Verbindungen und Sinnhaftigkeit.'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    },
    {
      lessonId: lessons.find(l => l.title === 'Erfolgreiche Kommunikation: Die Kunst des Zuh√∂rens')?._id,
      title: 'Kommunikation Quiz',
      questions: [
        {
          question: 'Wie viel Prozent unserer Kommunikation macht die K√∂rpersprache aus?',
          type: 'multiple_choice',
          options: [
            '7%',
            '38%',
            '55%',
            '93%'
          ],
          correctAnswer: 2,
          explanation: 'K√∂rpersprache macht 55% der Kommunikation aus, Tonfall 38% und Worte nur 7%.'
        },
        {
          question: 'Was bedeutet die SOLER-Technik beim aktiven Zuh√∂ren?',
          type: 'multiple_choice',
          options: [
            'Sprechen, Organisieren, Lernen, Entwickeln, Reagieren',
            'Sitzen/Stehen offen, Offener Blickkontakt, Lean forward, Entspannt, Reagieren',
            'Sammeln, Ordnen, Logisch denken, Empathisch sein, Reflektieren',
            'Schweigen, Offen sein, Langsam sprechen, Ernst bleiben, Respektieren'
          ],
          correctAnswer: 1,
          explanation: 'SOLER steht f√ºr: Sitzen/Stehen (offene K√∂rperhaltung), Offener Blickkontakt, Lean forward (vorw√§rts lehnen), Entspannt bleiben, Reagieren angemessen.'
        },
        {
          question: 'Was ist das DESC-Modell f√ºr schwierige Gespr√§che?',
          type: 'multiple_choice',
          options: [
            'Describe, Express, Specify, Consequences',
            'Decide, Engage, Support, Conclude',
            'Discuss, Evaluate, Solve, Confirm',
            'Define, Explain, Suggest, Complete'
          ],
          correctAnswer: 0,
          explanation: 'DESC steht f√ºr: Describe (beschreiben), Express (Gef√ºhle ausdr√ºcken), Specify (W√ºnsche konkretisieren), Consequences (Konsequenzen aufzeigen).'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    },
    {
      lessonId: lessons.find(l => l.title === 'Finanzielle Intelligenz: Geld verstehen und vermehren')?._id,
      title: 'Finanzielle Intelligenz Quiz',
      questions: [
        {
          question: 'Was besagt die 50/30/20 Regel?',
          type: 'multiple_choice',
          options: [
            '50% Sparen, 30% Investieren, 20% Ausgeben',
            '50% Grundbed√ºrfnisse, 30% W√ºnsche, 20% Sparen',
            '50% Arbeit, 30% Familie, 20% Hobbys',
            '50% Aktien, 30% Anleihen, 20% Cash'
          ],
          correctAnswer: 1,
          explanation: 'Die 50/30/20 Regel teilt das Einkommen auf: 50% f√ºr Grundbed√ºrfnisse, 30% f√ºr W√ºnsche, 20% f√ºr Sparen und Investieren.'
        },
        {
          question: 'Was ist der Zinseszinseffekt?',
          type: 'multiple_choice',
          options: [
            'Zinsen werden nur auf den urspr√ºnglichen Betrag berechnet',
            'Zinsen werden auch auf bereits erhaltene Zinsen berechnet',
            'Zinsen werden verdoppelt',
            'Zinsen werden halbiert'
          ],
          correctAnswer: 1,
          explanation: 'Beim Zinseszinseffekt werden Zinsen auch auf bereits erhaltene Zinsen berechnet, wodurch das Wachstum exponentiell wird.'
        },
        {
          question: 'Was sind "gute Schulden"?',
          type: 'multiple_choice',
          options: [
            'Kreditkarten-Schulden',
            'Konsumkredite',
            'Immobilienkredit',
            'Urlaubs-Kredite'
          ],
          correctAnswer: 2,
          explanation: 'Gute Schulden wie Immobilienkredite helfen beim Verm√∂gensaufbau, da sie in wertsteigende Assets investieren.'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    },
    {
      lessonId: lessons.find(l => l.title === 'Der Klimawandel: Verstehen und handeln')?._id,
      title: 'Klimawandel Quiz',
      questions: [
        {
          question: 'Um wie viel Grad ist die globale Temperatur seit 1880 gestiegen?',
          type: 'multiple_choice',
          options: [
            '0,5¬∞C',
            '1,1¬∞C',
            '2,0¬∞C',
            '3,0¬∞C'
          ],
          correctAnswer: 1,
          explanation: 'Die globale Durchschnittstemperatur ist seit 1880 um etwa 1,1¬∞C gestiegen.'
        },
        {
          question: 'Was ist das Hauptziel des Pariser Klimaabkommens?',
          type: 'multiple_choice',
          options: [
            'Erderw√§rmung auf 2¬∞C begrenzen',
            'Erderw√§rmung auf 1,5¬∞C begrenzen',
            'CO‚ÇÇ-Emissionen halbieren',
            'Alle Kohlekraftwerke schlie√üen'
          ],
          correctAnswer: 1,
          explanation: 'Das Pariser Abkommen zielt darauf ab, die Erderw√§rmung auf m√∂glichst 1,5¬∞C √ºber dem vorindustriellen Niveau zu begrenzen.'
        },
        {
          question: 'Welcher Bereich verursacht den gr√∂√üten Teil des pers√∂nlichen CO‚ÇÇ-Fu√üabdrucks?',
          type: 'multiple_choice',
          options: [
            'Ern√§hrung',
            'Mobilit√§t',
            'Konsum',
            'Wohnen'
          ],
          correctAnswer: 2,
          explanation: 'Der Konsum (Kleidung, Elektronik, etc.) verursacht mit etwa 3,6 Tonnen CO‚ÇÇ pro Jahr den gr√∂√üten Teil des pers√∂nlichen Fu√üabdrucks.'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    },
    {
      lessonId: lessons.find(l => l.title === 'Produktivit√§t steigern: Mehr erreichen mit weniger Stress')?._id,
      title: 'Produktivit√§t Quiz',
      questions: [
        {
          question: 'Was besagt das Pareto-Prinzip (80/20-Regel)?',
          type: 'multiple_choice',
          options: [
            '80% der Zeit sollte f√ºr Arbeit, 20% f√ºr Pause verwendet werden',
            '80% der Ergebnisse kommen von 20% der Aktivit√§ten',
            '80% der Aufgaben sind unwichtig, 20% sind wichtig',
            '80% der Menschen sind unproduktiv, 20% sind produktiv'
          ],
          correctAnswer: 1,
          explanation: 'Das Pareto-Prinzip besagt, dass 80% der Ergebnisse von 20% der Aktivit√§ten kommen.'
        },
        {
          question: 'In welchem Quadrant der Eisenhower-Matrix sollten Sie die meiste Zeit verbringen?',
          type: 'multiple_choice',
          options: [
            'Wichtig + Dringlich',
            'Wichtig + Nicht dringlich',
            'Nicht wichtig + Dringlich',
            'Nicht wichtig + Nicht dringlich'
          ],
          correctAnswer: 1,
          explanation: 'Quadrant 2 (Wichtig + Nicht dringlich) ist optimal - hier passieren Pr√§vention, Planung und Entwicklung.'
        },
        {
          question: 'Wie lange dauert ein Pomodoro-Arbeitsblock?',
          type: 'multiple_choice',
          options: [
            '15 Minuten',
            '25 Minuten',
            '45 Minuten',
            '60 Minuten'
          ],
          correctAnswer: 1,
          explanation: 'Ein Pomodoro-Block dauert 25 Minuten, gefolgt von einer 5-min√ºtigen Pause.'
        }
      ],
      passingScore: 70,
      timeLimit: 300
    }
  ];

  for (const quizData of quizzes) {
    if (quizData.lessonId) {
      await Quiz.findOneAndUpdate(
        { lessonId: quizData.lessonId },
        quizData,
        { upsert: true, new: true }
      );
    }
  }

  console.log('‚úÖ Quizzes seeded successfully');
};

const seedDatabase = async () => {
  try {
    await connectDB();
    
    console.log('üå± Starting database seeding...');
    
    // Clear existing data
    await clearDatabase();
    
    const themes = await seedThemes();
    const lessons = await seedLessons(themes);
    await seedQuizzes(lessons);
    
    console.log('üéâ Database seeding completed successfully!');
    
    // Update lesson counts for themes
    for (const theme of themes) {
      const count = await Lesson.countDocuments({ themeId: theme._id, isPublished: true });
      await Theme.findByIdAndUpdate(theme._id, { lessonsCount: count });
    }
    
    console.log('‚úÖ Theme lesson counts updated');
    console.log(`üìä Created ${themes.length} themes, ${lessons.length} lessons, and ${lessons.length} quizzes`);
    
  } catch (error) {
    console.error('‚ùå Error seeding database:', error);
  } finally {
    await mongoose.disconnect();
    console.log('üëã Disconnected from MongoDB');
  }
};

// Run if called directly
if (require.main === module) {
  seedDatabase();
}

export default seedDatabase; 